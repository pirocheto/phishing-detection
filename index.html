<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Phishing URL Checker</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
  </head>

  <body class="d-flex flex-column vh-100">
    <nav class="navbar navbar-expand-sm bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Phishing URL Checker</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">
                Dataset
                <img width="13" src="assets/external.svg" />
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                Repository
                <img width="13" src="assets/external.svg"
              /></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                Model
                <img width="13" src="assets/external.svg" />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container d-flex justify-content-center py-5">
      <div class="border" style="width: 400px">
        <div class="px-3 py-3">
          <div
            id="session-loader"
            class="text-center fst-italic fw-light d-none"
          >
            <div class="mb-3">
              <span>Downloading model from Hugging Face...</span><br />
              <span>It should only take a few seconds</span>
            </div>
            <div class="progress" style="height: 20px">
              <div
                class="progress-bar progress-bar-striped progress-bar-animated"
                role="progressbar"
                aria-label="Animated striped"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
                style="width: 100%"
              ></div>
            </div>
          </div>
          <div id="form" class="d-none">
            <div class="mb-3">
              <select
                class="form-select"
                onchange="selectExample(this)"
                aria-label="Example"
              >
                <option value="" disabled selected>exemples</option>
                <option value="https://clubedemilhagem.com/home.php">
                  https://clubedemilhagem.com/home.php
                </option>
                <option
                  value="http://www.medicalnewstoday.com/articles/188939.php"
                >
                  http://www.medicalnewstoday.com/articles/188939.php
                </option>
                <option value="http://h.23yue.cn/">http://h.23yue.cn/</option>
              </select>
            </div>
            <textarea
              class="form-control p-2"
              type="text"
              placeholder="Enter a url"
              id="url-input"
              style="height: 100px"
            >
http://h.23yue.cn/</textarea
            >
            <div class="invalid-feedback d-none" id="url-invalid">
              Invalid Url.
            </div>

            <button
              class="btn btn-outline-secondary w-100 mb-0 mt-3"
              type="button"
              onclick="checkPhishing()"
            >
              check
            </button>
          </div>
        </div>

        <hr class="m-0" />

        <div id="result" class="px-3 py-3 d-none">
          <div class="d-flex justify-content-between">
            <span class="text-muted">legitimate</span>
            <span id="positive-proba"></span>
          </div>
          <div class="progress mb-3" style="height: 5px">
            <div
              id="positive-proba-progress"
              class="placeholder progress-bar progress-bar-striped bg-dark"
              role="progressbar"
              aria-label="Example with label"
              aria-valuenow="90"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>

          <div class="d-flex justify-content-between">
            <span class="text-muted">phishing</span>
            <span id="negative-proba"></span>
          </div>
          <div class="progress mb-3" style="height: 5px">
            <div
              class="placeholder progress-bar progress-bar-striped bg-dark"
              id="negative-proba-progress"
              role="progressbar"
              aria-label="Example with label"
              aria-valuenow="19"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>

          <div
            id="alert-danger"
            class="alert alert-danger d-none mt-4 mb-0 d-none"
            role="alert"
          >
            <img src="assets/warning.svg" height="20" class="me-2" />This url
            could be dangerous. Be careful!
          </div>

          <div
            id="alert-safe"
            class="alert alert-success mt-4 mb-0"
            role="alert"
          >
            <img src="assets/safe.svg" height="20" class="me-2" />This url seems
            be safe.
          </div>
        </div>
      </div>
    </div>
    <footer class="container-fluid mt-auto py-3 bg-dark text-center">
      <span class="text-muted text">Â© 2023 pirocheto</span>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
    <script src="index.js"></script>
  </body>
</html>
